<!doctype html><html lang=de><head><title>Linux SSH-Zugang absichern</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.81c7bf565a586503a8a847c720b10631b6efb822b06b876a0c6ded91649fe346.css integrity="sha256-gce/VlpYZQOoqEfHILEGMbbvuCKwa4dqDG3tkWSf40Y="><link rel=icon type=image/png href=/images/favicon_hu_66814ce56ef195be.png><meta property="og:title" content="SecureBits Blog by Marcel Dellmann"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio und persönlicher Blog von Marcel Dellmann."><meta property="og:image" content="/images/author.jpg"><meta property="og:url" content="https://securebitsorg.github.io/"><meta name=description content="Linux SSH-Zugang absichern"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/>SecureBits Blog by Marcel Dellmann</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>Über mich</a></li><li class=nav-item><a class=nav-link href=/#projects>Projekte</a></li><li class=nav-item><a class=nav-link href=/#accomplishments>Zertifizierungen</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Beiträge</a></li><li class=nav-item><a class=nav-link href=/pages/kontakt/>Kontakt</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-de"></span>
Deutsch</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts/linux/linux-ssh-absichern><span class="fi fi-de"></span>
Deutsch
</a><a class="dropdown-item nav-link languages-item" href=/en/posts/linux/linux-ssh-absichern><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Suchen data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Beiträge</a></li><div class=subtree><li><a class=list-link href=/posts/info/ title=Info>Info</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/security/> IT-Security</a><ul><li><a class=list-link href=/posts/security/linux-ssh-absichern/ title=Post1>Post1</a></li><li><a class=list-link href=/posts/security/proxmox-fail2ban/ title=Post2>Post2</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/linux/> Linux</a><ul class=active><li><a class=list-link href=/posts/linux/proxmox-fail2ban/ title="Proxmox und fail2ban">Proxmox und fail2ban</a></li><li><a class="active list-link" href=/posts/linux/linux-ssh-absichern/ title="Linux SSH-Zugang absichern">Linux SSH-Zugang absichern</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/posts/linux-ssh/SSH-absichern.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author_hu_e65e163c584e3543.jpg alt="Author Image"><h5 class=author-name>Marcel Dellmann</h5><p class=text-muted>Samstag, 5. Juli 2025 | 10 Minuten</p></div><div class=title><h1>Linux SSH-Zugang absichern</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/tags/security/ class="btn btn-sm btn-info">Security</a></li></ul></div><div class=post-content id=post-content><h2 id=linux-ssh-zugang-richtig-absichern>Linux SSH Zugang richtig absichern</h2><p>Das A und O wenn ihr einen Linux-Server betreibt, ist es meistens für die Administration erforderlich, einen sichereren Zugang via SSH zu etablieren.</p><p>Dieses Tutorial soll euch helfen, den Linux SSH Zugriff erfolgreich gegen Angriffe zu schützen.</p><p>Natürlich ist das Absichern des SSH-Zugangs nur ein Modul, um euren Server vor Angriffe zu schützen. Weitere Möglichkeiten findet ihr im Tutorial „Raspberry Pi absichern von A-Z“ welches ich hier im Blog veröffentlicht habe.</p><h2 id=video-tutorial-zum-thema-linux-ssh-absichern>Video-Tutorial zum Thema ‚Linux SSH absichern‘</h2><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube-nocookie.com/embed/iCPRIR6FDW0?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h3 id=weitere-videos-zum-thema-linux-server-absichern>Weitere Videos zum Thema Linux Server absichern</h3><p>Dieses Tutorial ist ein Bestandteil einer Video-Serie rund um das Thema ‚Linux Server absichern‘.</p><p>Gerne könnt ihr auch auf YouTube die vollständige Playlist zum Thema anschauen. Hier werden regelmäßig immer neue Videos zur Thematik hinzugefügt.</p><p><strong>Zur Playlist</strong> <a href="https://www.youtube.com/playlist?list=PLknVEQKqt1ln-5HL8aG_Xk0bDeitgt0j" target=_blank rel=noopener>https://www.youtube.com/playlist?list=PLknVEQKqt1ln-5HL8aG_Xk0bDeitgt0j</a>_</p><h2 id=howto--linux-ssh-zugang-richtig-absichern>HowTo – Linux SSH-Zugang richtig absichern</h2><p>SSH ist ein beliebtes Protokoll, um sich auf entfernten Servern anzumelden und Befehle auszuführen. Doch wie kann man sicherstellen, dass nur berechtigte Personen Zugriff auf den SSH-Dienst haben? In diesem Tutorial möchte ich euch einige Tipps und Tricks vorstellen, wie man seinen SSH-Zugang richtig absichern kann.</p><h3 id=schritt-1-linux-ssh-absichern--standard-port-des-ssh-diensts-ändern>Schritt 1 Linux SSH absichern – Standard-Port des SSH-Diensts ändern</h3><p>Die meistens Angriffe auf den SSH-Port (Port 22) finden automatisiert statt. Daher kann entsprechend einer Port-Änderung des SSH-Ports diese Angriffsmethode ein wenig erschwert werden. Daher zeige ich euch, wie ihr entsprechend den Standard-SSH-Port ändern könnt.</p><p>Um den Standard-SSH-Port ändern zu können, ist es erforderlich diesen in der Config-Datei des SSH-Dienstes abzuändern.</p><p>Hierzu öffnet ihr wie in diesem Beispiel mit dem Editor ‚Nano‘ die Konfigurationsdatei die sich auf dem Pfad ‚/etc/ssh/sshd_config‚ befindet.</p><hr><blockquote><p>&#9888;&#xfe0f;
<strong>WICHTIG! Firewall-Regeln anpassen!</strong>
Solltet ihr schon Firewall-Regeln auf eurem Server aktiviert haben, müsst ihr diese entsprechend eurem gewählten Port um diese Regel ergänzen! Ansonsten sperrt ihr euch aus und <strong>habt keinen Zugriff</strong> mehr via SSH!</p></blockquote><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Öffnen der SSH-Config-Datei</span>
</span></span><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span></code></pre></div><p>Nachdem aufrufen des oben genannten Befehls, sollte sich ein Editor-Fenster mit folgendem Inhalt öffnen:</p><figure><img src=/images/posts/linux-ssh/sshd_config.png alt="Linux Datei sshd_config"><figcaption><p>Linux Datei sshd_config</p></figcaption></figure><p>In der Zeile <strong>&rsquo;#Port 22‘</strong> entfernt ihr das #-Zeichen (dadurch wird die Funktion / Ziele aktiviert) und ersetzt die Standard-Portnummer durch eure gewählte Portnummer. In diesem Fall ist es <strong>Port 2223</strong>. Jetzt noch die Änderung mit der Tastenkombination <strong>&lsquo;STRG+O&rsquo;</strong> speichern und den Editor mit <strong>&lsquo;STRG+X&rsquo;</strong> verlassen.</p><p>Damit die Änderungen übernommen werden, muss der <strong>SSH-Service neu gestartet</strong> werden.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># SSH-Service neustarten</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Status und Port des SSH-Service überprüfen</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo systemctl status ssh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Hier muss jetzt erscheinen, dass der Service &#39;enabled&#39; ist und weiter unten in der Ausgabe wird dann der Listening-Port angegeben</span>
</span></span></code></pre></div><h3 id=überprüfung-der-möglichkeit-einer-ssh-anmeldung-auf-dem-neuen-port>Überprüfung der Möglichkeit einer SSH-Anmeldung auf dem neuen Port</h3><p>Hierzu öffnet ihr ein neues Terminalfenster und meldet euch per SSH unter Angabe des neuen Ports auf dem Server an.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Anmeldung SSH mit Portangabe</span>
</span></span><span style=display:flex><span>ssh root@IP-Adresse -p <span style=color:#ae81ff>2223</span> 
</span></span><span style=display:flex><span><span style=color:#75715e># Der Port sowie die IP-Adresse müssen durch eure entsprechenden und gewählten Angaben ergänzt werden.</span>
</span></span></code></pre></div><hr><blockquote><p><strong>Geänderter SSH-Port nicht erreichbar</strong></p><p>Sollte die SSH-Port-Änderung nicht funktionieren, also der SSH-Zugang ist über den neuen Port nicht erreichbar, dann bitte die folgenden Befehle eingeben.
Dieser Fehler kann beispielsweise bei einem Debian-Proxmox-Container auftauchen. Hier wird bei der Änderung des Ports in der sshd_config nicht automatisch übernommen und der Zugriff über den Standard-Port 22 ist immer noch möglich.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl  disable  ssh.socket
</span></span><span style=display:flex><span>systemctl  stop  ssh.socket
</span></span><span style=display:flex><span>reboot
</span></span></code></pre></div></blockquote><hr><p><strong>Eine Liste der standardisierten sowie dynamischen Ports findet ihr zum Beispiel hier im entsprechenden Wikipedia-Post:</strong></p><p><a href=https://de.wikipedia.org/wiki/Liste_der_standardisierten_Ports target=_blank rel=noopener>https://de.wikipedia.org/wiki/Liste_der_standardisierten_Ports</a></p><h3 id=schritt-2-linux-ssh-absichern--ssh-schlüsselpaar-erzeugen>Schritt 2 Linux SSH absichern – SSH-Schlüsselpaar erzeugen</h3><hr><blockquote><p>&#9888;&#xfe0f;
<strong>WICHTIGER HINWEIS!</strong></p><p>Vorab sei erwähnt, dass ihr nur die beiden Methoden RSA 4096 bit (ab 3072 bit oder höher) sowie Ed25519 zur Schlüsselerzeugung nutzen solltet. Ich persönlich nutze immer Ed25519 (basierend auf einer elliptischen Kurve) zusammen mit einem extra Passphrase (zusätzliches Passwort) als zweiten Faktor und würde es auch so empfehlen.</p></blockquote><hr><h4 id=ssh-schlüsselpaar-unter-linux-und-macos-erzeugen>SSH-Schlüsselpaar unter Linux und macOS erzeugen</h4><p>Öffne ein Terminalfenster und gebe hier den folgenden Befehl ein um eine Schlüsseldatei mittels Ed25519 mit zusätzlichem Passwort sowie mit zusätzlichem Schutz vor Brute Force-Attacken zu erstellen und zu schützen.</p><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Erstellen eines Schlüsselpaars basierend auf Ed25519 + Passwort und Brute-Force-Schutz</span>
</span></span><span style=display:flex><span>ssh-keygen -o -a <span style=color:#ae81ff>100</span> -t ed25519
</span></span><span style=display:flex><span><span style=color:#75715e># Ausgabe:</span>
</span></span><span style=display:flex><span>Generating public/private ed25519 key pair.
</span></span><span style=display:flex><span>Enter file in which to save the key <span style=color:#f92672>(</span>/root/.ssh/id_ed25519<span style=color:#f92672>)</span>:
</span></span><span style=display:flex><span>Enter passphrase <span style=color:#f92672>(</span>empty <span style=color:#66d9ef>for</span> no passphrase<span style=color:#f92672>)</span>: <span style=color:#f92672>(</span>hier euer gewünschtes Passwort vergeben<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Enter same passphrase again: <span style=color:#f92672>(</span>hier das Passwort wiederholen<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Dann wird das Schlüsselpaar erzeugt, und ist über den Pfad &#39;/root/.ssh/id_ed25519&#39; für den privaten Schlüssel, sowie den public_key unter &#39;/root/.ssh/id_ed25519.pub&#39;, zu finden. </span>
</span></span></code></pre></div><hr><blockquote><p>&#9888;&#xfe0f; <strong>WICHTIGER HINWEIS!</strong></p><p>Der Schlüssel mit der Endung id_ed25519 ist der private Schlüssel und darf niemals herausgegeben werden!</p><p>Den privaten Schlüssel bitte sicher aufbewahren und zum Beispiel im Passwort-Manager ‚Bitwarden‘ ablegen, oder auf einen verschlüsselten USB-Stick abspeichern und sicher aufbewahren. Ohne diesen privaten Schlüssel habt ihr bei Verlust, keinen Zugriff mehr auf euren Server!</p><p>Zum Exportieren ist nur die Schlüsseldatei mit der <strong>Endung .pub</strong> zu verwenden!!!</p></blockquote><hr><h4 id=ssh-schlüsselpaar-unter-windows-erzeugen>SSH-Schlüsselpaar unter Windows erzeugen</h4><p>Ab Windows 10 in Version 1809, ist ein SSH-Client standardmäßig installiert und ihr könnt somit gleich mit der Schlüsselerzeugung loslegen.</p><p>Hierzu gibt ihr in der <strong>PowerShell</strong> oder auch im <strong>Microsoft Terminal</strong> (welches ich auch immer in den Videos nutze), mit Administrationsrechte, den folgenden Befehl in der Kommandozeile ein:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Erstellen eines Schlüsselpaars basierend auf Ed25519 + Passwort und Brute-Force-Schutz unter Windows</span>
</span></span><span style=display:flex><span>ssh-keygen -o -a <span style=color:#ae81ff>100</span> -t ed25519
</span></span><span style=display:flex><span><span style=color:#75715e># Ausgabe:</span>
</span></span><span style=display:flex><span>Enter passphrase <span style=color:#f92672>(</span>empty <span style=color:#66d9ef>for</span> no passphrase<span style=color:#f92672>)</span>: &lt;hier euer sicheres Passwort eingeben&gt;
</span></span><span style=display:flex><span>Enter same passphrase again: &lt;Passwort bestätigen&gt;
</span></span><span style=display:flex><span>Your identification has been saved in C:Usersusername/.ssh/id_ed25519. &lt;username <span style=color:#f92672>=</span> Ersetzen durch euren Benutzername&gt;
</span></span><span style=display:flex><span>Your public key has been saved in C:Usersusername/.ssh/id_ed25519.pub. &lt;username <span style=color:#f92672>=</span> Ersetzen durch euren Benutzername&gt;
</span></span><span style=display:flex><span>The key fingerprint is:
</span></span><span style=display:flex><span>Beispiel: SHA256:OIzc1yE7joL2Bzy8!gS0j8eGK7bYaH1FmF3sDuMeSj8 username@LOCAL-HOSTNAME
</span></span></code></pre></div><h3 id=schritt-3-linux-ssh-absichern--ssh-public_key-auf-den-remote-server-kopieren>Schritt 3 Linux SSH absichern – SSH-Public_key auf den Remote-Server kopieren</h3><p>Damit in Zukunft eine Anmeldung auf dem Linux-Server mit einem Schlüsselpaar möglich ist, muss der public_key auf dem Remote-Server zunächst kopiert / mitgeteilt werden.</p><p>Gespeichert wird dieser public_key bei dem anzumeldenden Nutzer in der Datei ‚.ssh/authorized_keys‘. Diese findet ihr im Wurzelverzeichnis ‚cd .ssh‘.</p><blockquote><p>Sollte das Verzeichnis ‚.ssh/‘ nicht vorhanden sein, dann bitte auf dem Remote-Server mit dem folgenden Befehl anlegen:</p></blockquote><p><code>mkdir .ssh/</code></p><blockquote><p>Voraussetzung um den Public_Key auf den Remote-Server zu installieren ist es, dass ihr berechtigt seid, dass ihr euch mit Benutzername und Passwort auf dem Remote-Server anmelden könnt!
<strong>public_key in die Datei ‚.ssh/authorized_keys‘ kopieren unter Windows-Powershell / Microsoft Terminal</strong></p></blockquote><p>Um den Kopiervorgang des public_key auf den Remote-Server zu starten, gibt ihr bittags: [&ldquo;Linux&rdquo;]
categories: [&ldquo;Tutorials&rdquo;]te den folgenden Befehl ein:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Key via Powershell auf einen Remote-Server kopieren</span>
</span></span><span style=display:flex><span>type $env:USERPROFILE.sshid_ed25519.pub | ssh remoteuser@IP-AdresseRemote-Server <span style=color:#e6db74>&#34;cat &gt;&gt; .ssh/authorized_keys&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Der &lt;remoteuser&gt; wird durch den User auf dem Remote-Server ersetzt, mit dem ihr euch dort Anmelden wollt</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Die &lt;IP-AdresseRemote-Server&gt; wird durch die IP-Adresse von eurem Remote-Server ersetzt</span>
</span></span></code></pre></div><p><strong>public_key in die Datei ‚.ssh/authorized_keys‘ kopieren unter Linux / macOS</strong></p><blockquote><p><strong>TIPP!</strong></p><p>Voraussetzung um den Public_Key auf den Remote-Server zu installieren ist es, dass ihr berechtigt seid, dass ihr euch mit Benutzername und Passwort auf dem Remote-Server anmelden könnt!</p></blockquote><p>Um unter Linux und macOS (basiert ja auch auf ein Unix-System) den public_key auf den Remote-Server zu kopieren, öffnet ihr ein Terminalfenster und gibt den folgernden Befehl ein:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Das Attribut -p gibt den SSH-Port des Remote Server an</span>
</span></span><span style=display:flex><span>ssh-copy-id -i .ssh/id_ed25519.pub -p <span style=color:#ae81ff>2223</span> remoteuser@IP-AdresseRemote-Server
</span></span></code></pre></div><h4 id=überprüfung-der-authorized_keys-auf-dem-remote-server>Überprüfung der authorized_keys auf dem Remote-Server</h4><p>Zu guter Letzt, müssen wir unbedingt die Datei ‚authorized_keys‘ auf dem Remote-Server überprüfen, ob hier auch wirklich der öffentliche Schlüssel als Eintrag hinzugefügt wurde!</p><p>Dazu meldet ihr euch per Benutzer + Passwort auf dem Remote-Server an und ruft den Inhalt der Datei ‚authorized_keys‘ mit folgendem Befehl auf:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Inhalt der Datei &#39;authorized_keys&#39; anzeigen</span>
</span></span><span style=display:flex><span>nano .ssh/authorized_keys
</span></span><span style=display:flex><span><span style=color:#75715e># Ausgabe:</span>
</span></span><span style=display:flex><span>Die Ausgabe des Editor-Fenster sollte wie folgt aussehen beziehungsweise beginnen:
</span></span><span style=display:flex><span>ssh-ed25519 AAAAC3N........
</span></span></code></pre></div><h3 id=schritt-4-linux-ssh-absichern--ssh-anmeldung-via-ssh-schlüssel-aktivieren>Schritt 4 Linux SSH absichern – SSH-Anmeldung via SSH-Schlüssel aktivieren</h3><p>Nachdem der Public_Key auf dem Remote-Server erfolgreich kopiert sowie überprüft wurde, können wir jetzt die Anmeldemethode via Schlüsselpaar auf diesem Server aktivieren.</p><p>Hierzu werden wir die Config-Datei ’sshd_config‘ entsprechend anpassen.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Anpassen der SSH-Config-Datei auf dem Remote-Server</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Öffnen der sshd-config</span>
</span></span><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span><span style=color:#75715e># Nun im Editor-Fenster die folgende Zeile auf &#39;Yes&#39; setzen und da #-Zeichen entfernen</span>
</span></span><span style=display:flex><span>PubkeyAuthentication yes
</span></span><span style=display:flex><span><span style=color:#75715e># Des Weiteren muss noch überprüft werden, ob der richtige Pfad zu der Datei &#39;authorized_keys&#39; angeben und auch aktiviert ist</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Hierfür muss die Zeile für diese Datei wie folgt aussehen sowie das Zeichen &#39;#&#39; entfernt sein:</span>
</span></span><span style=display:flex><span>AuthorizedKeysFile      .ssh/authorized_keys
</span></span><span style=display:flex><span><span style=color:#75715e># Dann die Datei mit &#39;STRG+O&#39; die Eingaben speichern und mit &#39;STRG+X&#39; das Editor-Fenster verlassen.</span>
</span></span></code></pre></div><p>Nach diesen Veränderungen an der ’sshd_config‘ muss noch der SSH-Dienst neu gestartet werden:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># SSH-Service neu starten, um die Änderungen zu übernehmen</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span><span style=color:#75715e># Bei Red-Had-basierenden Distributionen wie CentOS, Fedora, Rocky Linux usw. ist der Service &#39;sshd&#39; neu zu starten</span>
</span></span><span style=display:flex><span>sudo service sshd restart
</span></span></code></pre></div><h3 id=schritt-5-linux-ssh-absichern--ssh-anmeldung-mit-schlüsselpaar-überprüfen>Schritt 5 Linux SSH absichern – SSH-Anmeldung mit Schlüsselpaar überprüfen</h3><p>Um jetzt den SSH-Zugang via SSH-Schlüssel zu überprüfen, melden wir uns an dem Remote-Server genauso wie gewohnt an:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Anmeldung via SSH-Schlüssel an den Remote-Server</span>
</span></span><span style=display:flex><span>ssh benutzer@IP-AdresseRemoteServer
</span></span><span style=display:flex><span><span style=color:#75715e># Solltet ihr euch zum ersten Mal mit diesem Benutzer am Remote-Server anmelden, erhaltet ihr die folgende Abfrage:</span>
</span></span><span style=display:flex><span>The authenticity of host <span style=color:#e6db74>&#39;IP-Adresse des Remote-Server&#39;</span> can<span style=color:#e6db74>&#39;t be established.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ED25519 key fingerprint is SHA256:ElsjpajVayeK.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>This key is not known by any other names
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Are you sure you want to continue connecting (yes/no/[fingerprint])?
</span></span></span><span style=display:flex><span><span style=color:#e6db74># Hier müsst ihr dann mit &#39;</span>yes<span style=color:#e6db74>&#39; bestätigen und dann den Passphrase (euer Passwort zum oben erstellten SSH-Schlüssel) eingeben
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Enter passphrase for key &#39;</span>C:Usersmarcel/.ssh/id_ed25519<span style=color:#960050;background-color:#1e0010>&#39;</span>: &lt;Passwort für den SSH-Schlüssel eingeben&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Nun solltet ihr mit dem Remote-Server verbunden sein</span>
</span></span></code></pre></div><hr><h3 id=schritt-6-linux-ssh-absichern--linux-ssh-absichern-durch-deaktivieren-der-anmeldung-durch-passwort>Schritt 6 Linux SSH absichern – Linux SSH absichern durch Deaktivieren der Anmeldung durch Passwort</h3><blockquote><p><strong>ACHTUNG!</strong></p><p>Diesen Schritt nur durchführen, wenn die Anmeldung via SSH-Schlüssel funktioniert hat und ihr einen weiteren Benutzer mit erhöhten Rechten wie im Beitrag ‚Raspberry Pi absichern von A -Z‚ angelegt habt!</p><p><strong>Ansonsten sperrt ihr euch vom Server aus!</strong></p></blockquote><hr><p>Nach erfolgreicher Anmeldung mit dem SSH-Schlüssel können wir nun endlich die unsichere Anmeldung mittels Passworts beim Remote-Server deaktivieren.</p><p>Dazu müssen wir wieder eine Anpassung an der ’sshd_config‘ vornehmen und auch gleichzeitig wie im nächsten Abschnitt beschrieben, die Anmeldung als ‚root-user‘ deaktivieren.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># SSH-Anmeldung mittels Passworts am Remote-Server deaktivieren</span>
</span></span><span style=display:flex><span>sudo nano /etc/ssh/sshd_config <span style=color:#75715e># sshd_config-Datei zum Bearbeiten öffnen</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Die folgende Zeile &#39;#PasswordAuthentication yes&#39; in &#39;PasswordAuthentication no&#39; abändern</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Und mit &#39;STRG+O&#39; speichern und mit &#39;Strg+X&#39; den Editor verlassen</span>
</span></span><span style=display:flex><span><span style=color:#75715e># SSH-Dienst neu Starten</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div><p><strong>Natürlich könnt ihr die Änderungen vom nächsten Absatz in diesem Tutorial gleich mit ändern, aber zur Verständlichkeit werde ich extra alle Schritte einzeln durchführen!</strong></p><h3 id=schritt-7-linux-ssh-absichern--anmeldung-als-root-user-via-ssh-deaktivieren>Schritt 7 Linux SSH absichern – Anmeldung als Root-User via SSH deaktivieren</h3><p>Ein wirklich wichtiger Sicherheitsaspekt bei der Absicherung des SSH-Zugangs ist es, dass der volle root-Zugang via SSH-Zugang deaktiviert wird! Dieses gilt nicht nur für die Anmeldung via SSH-Schlüssel auf dem Remote-Server wie wir es in diesem Tutorial gelernt haben, sondern sollte immer in der ’sshd_config-Datei‘ deaktiviert werden.</p><p>Ein fremder Nutzer der sich mit zum Beispiel gestohlenen Anmeldedaten auf eurem Server via SSH anmelden kann und dann gleich alles Privilegien für Änderungen hat, ist der absolute Alptraum!</p><p>Um diesen Alptraum zu vermeiden, öffnen wir wieder die Konfigurationsdatei für den SSH-Dienst und passen diese wie folgt an:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Anmeldung als Root-User via SSH-Verbindung deaktivieren</span>
</span></span><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span><span style=color:#75715e># Im Editor-Fenster nun die Zeile &#39;#PermitRootLogin&#39; in &#39;PermitRootLogin no&#39; ändern</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Dann wieder die Änderungen speichern und den SSH-Dienst neustarten</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div><h3 id=schritt-8-linux-ssh-absichern--neueste-protokolle-zur-authentifizierung-erzwingen>Schritt 8 Linux SSH absichern – Neueste Protokolle zur Authentifizierung erzwingen</h3><p>Ein weiterer Schritt um die Sicherheit der SSH-Anmeldung zu erhöhen ist es, die Erzwingung der Nutzung der neuesten Protokolle (SSH-Protocol-Version 2) zur Anmeldung zu nutzen.</p><p>Hierfür muss natürlich wieder die SSH-Config-Datei angepasst werden und der SSH-Dienst neu gestartet werden.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Folgende Einträge sollten in der SSH-Config-Datei noch hinzugefügt bzw. angepasst werden.</span>
</span></span><span style=display:flex><span>ChallengeResponseAuthentication no
</span></span><span style=display:flex><span><span style=color:#75715e># und</span>
</span></span><span style=display:flex><span>UsePAM no
</span></span><span style=display:flex><span><span style=color:#75715e># Dann wieder den SSH-Dienst neu starten</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div><hr><h2 id=fazit--linux-ssh-absichern>Fazit – Linux SSH absichern</h2><p>Wir haben in diesem Tutorial gelernt, wie wir den SSH-Zugang zu einem Linux-Server effektiv und nach neustem Stand der Technik vor Angriffe schützen können.</p><p>Ich kann nur jedem ans Herz legen, alle SSH-Zugänge (auch im internen Netzwerk) so abzusichern! Weiterhin habt ihr noch die Möglichkeit Brute Force-Attacken auf den SSH-Service mit zum Beispiel ‚Fail2ban‘ zu schützen. Wie das funktioniert, habe ich euch ja schon in dem Tutorial ‚Raspberry Pi absichern von A-Z | 2023‚ (funktioniert bei allen debian-basierten Systemen) gezeigt und habe auf eine Wiederholung in diesem Tutorial darauf verzichtet.</p><p>Wichtig ist noch zu erwähnen, dass diese in diesem Tutorial behandelte Methode nur eine Möglichkeit widerspiegelt, einen Linux-Server richtig abzusichern. Also nur ein Baustein in der IT-Sicherheit ist!</p><p>Sollte euch dieses Tutorial ein wenig gefallen haben, so würde ich mich über ein Abo von meinem YouTube-Kanal sehr freuen!</p></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Teilen auf:</strong>
<a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fsecurebitsorg.github.io%2fposts%2flinux%2flinux-ssh-absichern%2f&title=Linux%20SSH-Zugang%20absichern" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button" href="mailto:?subject=Linux%20SSH-Zugang%20absichern&body=https%3a%2f%2fsecurebitsorg.github.io%2fposts%2flinux%2flinux-ssh-absichern%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/linux/proxmox-fail2ban/ title="Proxmox VE mit fail2ban absichern" class="btn filled-button"><div><i class="fas fa-chevron-circle-left"></i> Zurück</div><div class=next-prev-text>Proxmox VE mit fail2ban absichern</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Inhaltsverzeichnis</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#linux-ssh-zugang-richtig-absichern>Linux SSH Zugang richtig absichern</a></li><li><a href=#video-tutorial-zum-thema-linux-ssh-absichern>Video-Tutorial zum Thema ‚Linux SSH absichern‘</a><ul><li><a href=#weitere-videos-zum-thema-linux-server-absichern>Weitere Videos zum Thema Linux Server absichern</a></li></ul></li><li><a href=#howto--linux-ssh-zugang-richtig-absichern>HowTo – Linux SSH-Zugang richtig absichern</a><ul><li><a href=#schritt-1-linux-ssh-absichern--standard-port-des-ssh-diensts-ändern>Schritt 1 Linux SSH absichern – Standard-Port des SSH-Diensts ändern</a></li><li><a href=#überprüfung-der-möglichkeit-einer-ssh-anmeldung-auf-dem-neuen-port>Überprüfung der Möglichkeit einer SSH-Anmeldung auf dem neuen Port</a></li><li><a href=#schritt-2-linux-ssh-absichern--ssh-schlüsselpaar-erzeugen>Schritt 2 Linux SSH absichern – SSH-Schlüsselpaar erzeugen</a></li><li><a href=#schritt-3-linux-ssh-absichern--ssh-public_key-auf-den-remote-server-kopieren>Schritt 3 Linux SSH absichern – SSH-Public_key auf den Remote-Server kopieren</a></li><li><a href=#schritt-4-linux-ssh-absichern--ssh-anmeldung-via-ssh-schlüssel-aktivieren>Schritt 4 Linux SSH absichern – SSH-Anmeldung via SSH-Schlüssel aktivieren</a></li><li><a href=#schritt-5-linux-ssh-absichern--ssh-anmeldung-mit-schlüsselpaar-überprüfen>Schritt 5 Linux SSH absichern – SSH-Anmeldung mit Schlüsselpaar überprüfen</a></li><li><a href=#schritt-6-linux-ssh-absichern--linux-ssh-absichern-durch-deaktivieren-der-anmeldung-durch-passwort>Schritt 6 Linux SSH absichern – Linux SSH absichern durch Deaktivieren der Anmeldung durch Passwort</a></li><li><a href=#schritt-7-linux-ssh-absichern--anmeldung-als-root-user-via-ssh-deaktivieren>Schritt 7 Linux SSH absichern – Anmeldung als Root-User via SSH deaktivieren</a></li><li><a href=#schritt-8-linux-ssh-absichern--neueste-protokolle-zur-authentifizierung-erzwingen>Schritt 8 Linux SSH absichern – Neueste Protokolle zur Authentifizierung erzwingen</a></li></ul></li><li><a href=#fazit--linux-ssh-absichern>Fazit – Linux SSH absichern</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://securebitsorg.github.io/#about>Über mich</a></li><li class=nav-item><a class=smooth-scroll href=https://securebitsorg.github.io/#projects>Projekte</a></li><li class=nav-item><a class=smooth-scroll href=https://securebitsorg.github.io/#accomplishments>Zertifizierungen</a></li><li class=nav-item><a class=smooth-scroll href>Impressum</a></li><li class=nav-item><a class=smooth-scroll href>Datenschutz</a></li><li class=nav-item><a class=smooth-scroll href=/pages/kontakt/>Kontakt</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Kontaktieren Sie mich:</h5><ul><li><a href=mailto:service@secure-bits.org target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>service@secure-bits.org</span></a></li><li><a href=https://github.com/securebitsorg target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>securebitsorg</span></a></li><li><a href=https://www.linkedin.com/in/securebits target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Marcel Dellmann</span></a></li><li><a href=tel:+49152%2059422774 target=_blank rel=noopener><span><i class="fas fa-phone-alt"></i></span> <span>+49152 59422774</span></a></li></ul></div></div></div></footer><script src=/application.99db8d9c965b46a0e74865cc3bec9ab43bca11ed1f355fa578f5b3663c36a194.js integrity="sha256-mduNnJZbRqDnSGXMO+yatDvKEe0fNV+lePWzZjw2oZQ=" defer></script></body></html>